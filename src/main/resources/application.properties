# Application Configuration
spring.application.name=sports-investment-backend
server.port=${PORT:8080}

<<<<<<< HEAD
# MongoDB Atlas Configuration (CRITICAL FIX - Simplified Configuration)
=======
# MongoDB Atlas Configuration (CRITICAL FIX - Direct environment variable reference)
>>>>>>> ea6ec04 (Add frontend URL to CORS configuration)
spring.data.mongodb.uri=${MONGODB_URI}

# JWT Configuration (Production Ready with Environment Variables)
app.jwtSecret=${JWT_SECRET:sportsInvestmentSecretKey2025ForJWTAuthenticationAndSecurityPurposes}
app.jwtExpirationInMs=${JWT_EXPIRATION:86400000}

# CORS Configuration (Production Ready with Environment Variables)  
cors.allowed-origins=${ALLOWED_ORIGINS:http://localhost:3000,http://localhost:5173,https://yourdomain.com,https://sports-investment-app.vercel.app}

# Jackson Configuration (Optimized for Production)
spring.jackson.default-property-inclusion=NON_NULL
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.deserialization.fail-on-unknown-properties=false
spring.jackson.deserialization.accept-empty-string-as-null-object=false
spring.jackson.deserialization.fail-on-null-for-primitives=false
spring.jackson.serialization.fail-on-empty-beans=false
spring.jackson.mapper.accept-case-insensitive-properties=true

# Logging Configuration (Enhanced for MongoDB Debugging)
logging.level.com.example.demo=${LOG_LEVEL:INFO}
logging.level.org.springframework.security=${SECURITY_LOG_LEVEL:WARN}
logging.level.org.springframework.web=${WEB_LOG_LEVEL:INFO}
logging.level.org.springframework.data.mongodb=${MONGO_LOG_LEVEL:DEBUG}
logging.level.org.mongodb.driver=${DRIVER_LOG_LEVEL:DEBUG}
logging.level.org.springframework.boot.autoconfigure.mongo=${MONGO_AUTOCONFIGURE_LOG_LEVEL:DEBUG}
<<<<<<< HEAD

# Environment Variable Debug Logging (CRITICAL FOR DEBUGGING)
logging.level.org.springframework.core.env.PropertySourcesPropertyResolver=DEBUG
logging.level.org.springframework.boot.context.config=DEBUG
=======
>>>>>>> ea6ec04 (Add frontend URL to CORS configuration)

# Server Configuration (Production Ready)
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=never
server.error.include-exception=false

# Security Configuration (Production Settings)
spring.security.debug=false

# Development Configuration (Disabled in Production)
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false

# Validation Configuration
spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=false

# Request/Response Configuration (Production Settings)
spring.mvc.async.request-timeout=${REQUEST_TIMEOUT:60000}
server.max-http-header-size=${MAX_HEADER_SIZE:64KB}
spring.servlet.multipart.max-file-size=${MAX_FILE_SIZE:10MB}
spring.servlet.multipart.max-request-size=${MAX_REQUEST_SIZE:10MB}

# Bean Definition Override
spring.main.allow-bean-definition-overriding=true

# Management and Monitoring (Production Ready)
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=${HEALTH_DETAILS:when_authorized}
management.metrics.export.simple.enabled=true

# Production Profile Configuration
spring.profiles.active=${SPRING_PROFILES_ACTIVE:prod}

# Application Information (For Health Endpoint)
info.app.name=Sports Investment Tracker
info.app.description=Backend API for Sports Investment Management
info.app.version=1.0.0
info.app.encoding=UTF-8
info.java.version=${java.version}
